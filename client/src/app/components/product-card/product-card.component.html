<!-- cardType === true => productCart  -->
<div *ngIf="cardType">
  <div class="p-3">
    <i
      title="הסרה מעגלה"
      class="far fa-times-circle float-end fa-lg ms-4 iconsColor"
      (click)="
        cartsService.deleteProductFromCart('/carts/deleteProductFromCart', {
          productID: item.productID,
          cartID: item.cartID
        })
      "
    ></i>
    <div class="row">
      <h6 class="text-center">{{ item.product.ProductName }}</h6>
    </div>

    <div class="row">
      <div class="col-8">
        <div class="text-end">{{ item.Qnt }} :כמות</div>
        <h6 class="text-end">:מחיר ליחידה</h6>
        <div class="text-end">&#8362;{{ item.product.Price }}</div>

        <div class="text-end">
          &#8362; {{ (item.product.Price * item.Qnt).toFixed(2) }} :סה"כ
        </div>
      </div>
      <div class="col-4 ps-0 my-auto">
        <img
          src="http://www.localhost:5001/{{ item.product.ImageName }}"
          class="productImg"
          alt="{{ item.product.ProductName }}"
        />
      </div>
    </div>
    <div class="row pt-4">
      <div class="col-4 align-self-center">
        <i
          class="fas fa-plus-circle iconsColor"
          (click)="
            changeQnt('/carts/changeQnt', {
              productID: item.productID,
              type: 1,
              quantity: item.Qnt,
              price: item.product.Price
            })
          "
        ></i>
      </div>

      <div class="col-4 align-self-end">
        <h6>{{ item.Qnt }}</h6>
      </div>

      <div class="col-4 align-self-center">
        <i
          class="fas fa-minus-circle iconsColor"
          (click)="
            changeQnt('/carts/changeQnt', {
              productID: item.productID,
              type: 2,
              quantity: item.Qnt,
              price: item.product.Price
            })
          "
        ></i>
      </div>
    </div>
  </div>
  <hr />
</div>

<!-- cardType === false => productArea -->
<div *ngIf="!cardType">
  <div class="card productCard">
    <img
      class="card-img-top mt-3"
      src="http://www.localhost:5001/{{ product.ImageName }}"
      alt="{{ product.ProductName }}"
    />
    <div class="card-body productCard d-grid gap-2">
      <h6 class="card-title">{{ product.ProductName }}</h6>
      <p class="card-text cardDescription">{{ product.Description }}</p>
      <h4 class="card-text">{{ product.Price }} &#8362;</h4>
      <i
        *ngIf="usersService._currentUserObj.Role === 0"
        class="cartPlusIcon fas fa-lg fa-cart-plus"
        title="הוסף לעגלה"
        (click)="
          cartsService.addProdToCart('/carts/insertProdToCart', {
            productID: product.ID,
            price: product.Price
          })
        "
      ></i>
      <i
        *ngIf="usersService._currentUserObj.Role === 1"
        class="far fa-edit"
        (click)="
          productsService._showAdminForm = true;
          productsService._addVsEdit = 1;
          productsService._newProductObj = product
        "
      ></i>
      <div class="row pt-4">
        <div class="col-4 align-self-center">
          <i
            class="fas fa-plus-circle iconsColor"
            (click)="
              changeQnt('/carts/changeQnt', {
                productID: product.ID,
                type: 1,
                quantity: product.qnt,
                price: product.Price
              })
            "
          ></i>
        </div>

        <div class="col-4 align-self-end">
          <h6>{{ product.qnt }}</h6>
        </div>

        <div class="col-4 align-self-center">
          <i
            class="fas fa-minus-circle iconsColor"
            (click)="
              changeQnt('/carts/changeQnt', {
                productID: product.ID,
                type: 2,
                quantity: product.qnt,
                price: product.Price
              })
            "
          ></i>
        </div>
      </div>
    </div>
  </div>
</div>
